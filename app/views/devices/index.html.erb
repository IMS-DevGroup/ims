<h1><%= t 'devices.index.title' %></h1>

<table id='devices' class='table table-striped'>
  <thead>
    <tr>
      <th><%= t 'mixed_fields.info' %></th>
      <th><%= t 'devices.device_type' %></th>
      <th><%= t 'devices.owner' %></th>
      <th><%= t 'devices.stock' %></th>
      <th><%= t 'devices.ready' %></th>
      <th></th>
    </tr>
  </thead>

  <tbody>
    <% @devices.each do |device| %>
      <tr>
        <td><%= device.info %></td>
        <td><% unless device.device_type.nil?%>  <%= device.device_type.name %> <%end%></td>
        <td><% unless (tmp = Stock.find_by_id(device.owner_id)).nil? %> <%=tmp.name %> <%end%></td>
        <td><% unless device.stock.nil?%> <%= device.stock.name %> <%end%></td>
        <td><%= device.ready %></td>
        <td><%= link_to (t 'buttons.show'), device, class: 'btn btn-info' %>
        <%= link_to (t 'buttons.edit'), edit_device_path(device), class: 'btn btn-warning' %>
        <%= link_to (t 'buttons.destroy'), device, method: :delete, data: { confirm: (t 'buttons.confirmation_sure_message') }, class: 'btn btn-danger' %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to (t 'buttons.new.device'), new_device_path, class: 'btn btn-success' %>
